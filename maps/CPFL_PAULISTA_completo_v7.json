{
    "meta_info": {
        "modelo_identificado": "Raízen Power - CPFL Paulista (V7.0 - Gap Fix)",
        "versao_mapa": "7.0.0",
        "autor": "Gemini AI + Claude (Gap Analysis)",
        "data_atualizacao": "2026-01-16",
        "historico": "V7.0: Correção de gaps críticos (distribuidora, fidelidade, participacao_percentual, num_instalacao)"
    },
    "configuracoes_globais": {
        "flags_regex": "IGNORECASE | MULTILINE | DOTALL",
        "tratamento_ocr": true
    },
    "campos": {
        "razao_social": {
            "regex": "(?:Razão Social|Contratante|Consorciada|VOCÊ)[\\s\\.:\\n-]*([A-ZÀ-Ú0-9\\.&\\s-]{4,100}?)(?=\\s*(?:-|–)\\s*CNPJ|\\s*CNPJ|\\n|$)",
            "grupo": 1
        },
        "cnpj": {
            "regex": "(?:CNPJ|Inscrição)[\\s\\.:nº°]*(\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2})",
            "grupo": 1
        },
        "cpf": {
            "regex": "CPF[\\s\\.:nº°]*(\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2})",
            "grupo": 1,
            "condicional": "apenas se cnpj estiver vazio"
        },
        "data_adesao": {
            "regex": "(?i)(\\d{1,2}\\s+de\\s+[a-zç]+\\s+de\\s+\\d{4}|\\d{2}\\/\\d{2}\\/\\d{4})",
            "grupo": 1,
            "descricao": "Captura data completa no formato 'DD de Mês de AAAA' ou 'DD/MM/AAAA'"
        },
        "representante_nome": {
            "regex": "(?i)(?:neste\\s+ato\\s+representad[ao]\\s+por\\s+|Representante\\s*[:\\n]\\s*|Nome[^A-Za-z0-9]*)([A-ZÀ-Ú\\s]{5,80}?)(?=\\s*[,:]\\s*(?:brasileir|empresári|casad|solteir|inscrit|portador)|\\s*(?:\\n|CPF|\\d{3}\\.\\d{3}))",
            "grupo": 1
        },
        "representante_cpf": {
            "regex": "(?i)CPF[^0-9]*([\\d\\.]{3}\\.?[\\d\\.]{3}\\.?[\\d\\.]{3}-?[\\d]{2})",
            "grupo": 1
        },
        "num_instalacao": {
            "regex": "(?i)(?:N[ºo°]\\s*(?:da\\s+)?Instalação|Unidade\\s*Consumidora|UC|N[ºo°]\\s*Instalação)[^0-9\\n]{0,30}?(\\d{6,12})",
            "grupo": 1,
            "descricao": "V7.0: Regex simplificada para capturar UC/Instalação (6-12 dígitos)"
        },
        "num_conta_contrato": {
            "regex": "(?i)Conta\\s+Contrato\\s*(?:\\(UC\\))?[\".,\\s\\n]+(\\d{6,12})",
            "grupo": 1,
            "descricao": "V7.0: Captura Conta Contrato (UC)"
        },
        "num_cliente": {
            "regex": "(?i)(?:N[ºo°]\\s*(?:do\\s+)?Cliente|Código\\s*(?:do\\s+)?Cliente)[^0-9]*(\\d{5,12})",
            "grupo": 1,
            "descricao": "V7.0: Regex melhorada para capturar número do cliente"
        },
        "distribuidora": {
            "regex": "(?i)(?:Distribuidora|Concessionária|CPFL)[\\s\\.:]*([A-Z\\s]*PAULISTA|CPFL\\s*PAULISTA)",
            "grupo": 1,
            "fallback": "CPFL PAULISTA",
            "descricao": "V7.0: Corrigido typo PRATTI->PAULISTA, usa fallback se não encontrar"
        },
        "duracao_meses": {
            "regex": "(?i)(?:Duração|Vigência\\s*Inicial)[\\s\\.:]*(\\d+)[\\s\\n]*meses",
            "grupo": 1
        },
        "fidelidade": {
            "regex": "(?i)(?:Fidelidade|Carência|Período\\s*de\\s*Carência)[^:]*[:\\s]*(\\d+\\s*meses?|ISENTO|SEM\\s*FIDELIDADE|N\\/?A|INEXISTENTE)",
            "grupo": 1,
            "descricao": "V7.0: Captura ISENTO, SEM FIDELIDADE, N/A ou valor em meses"
        },
        "aviso_previo_dias": {
            "regex": "(?i)(?:aviso\\s*prévio|antecedência)[^0-9]{0,30}?(\\d+)\\s*(?:\\([a-z\\s]+\\))?\\s*dias",
            "grupo": 1
        },
        "participacao_percentual": {
            "regex": "(?i)(?:Quantidade\\s*de\\s*Cotas?|Rateio|Participação|Performance\\s*Alvo|Percentual)[^0-9]{0,30}?(\\d+(?:[,.]\\d+)?\\s*%?)",
            "grupo": 1,
            "descricao": "V7.0 NEW: Captura quantidade de cotas, rateio ou participação percentual"
        }
    }
}