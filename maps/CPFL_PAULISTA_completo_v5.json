{
    "meta_info": {
        "modelo_identificado": "Raízen Power - CPFL Paulista (Híbrido)",
        "versao_mapa": "1.0.0",
        "data_criacao": "2026-01-15",
        "autor": "Gemini AI",
        "cobertura_estimada": "98%"
    },
    "configuracoes_globais": {
        "flags_regex": "IGNORECASE | MULTILINE | DOTALL",
        "tratamento_ocr": true
    },
    "campos": {
        "razao_social": {
            "regex": "(?:Razão Social|Contratante|Consorciada|VOCÊ)[\\s\\.:\\n-]*([A-ZÀ-Ú0-9\\.&\\s-]{4,100}?)(?=\\s*(?:-|–)\\s*CNPJ|\\s*CNPJ|\\n|$)",
            "grupo": 1,
            "tipo": "string",
            "descricao": "Captura a razão social tanto no cabeçalho (Layout Visual) quanto na tabela de qualificação (Layout Formal)"
        },
        "cnpj": {
            "regex": "(?:CNPJ|Inscrição)[\\s\\.:nº°]*(\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2})",
            "grupo": 1,
            "tipo": "string",
            "validacao": "cnpj"
        },
        "cpf": {
            "regex": "CPF[\\s\\.:nº°]*(\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2})",
            "grupo": 1,
            "tipo": "string",
            "validacao": "cpf"
        },
        "email": {
            "regex": "(?:E-mail|Correio Eletrônico)[\\s\\.:]*([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,})",
            "grupo": 1,
            "tipo": "email"
        },
        "distribuidora": {
            "regex": "(?:Distribuidora|Concessionária)[\\s\\.:]*([A-Z\\s-]*CPFL\\s*PAULISTA)",
            "grupo": 1,
            "padrao": "CPFL PAULISTA"
        },
        "data_adesao": {
            "regex": "Piracicaba,?[\\s\\n]*(\\d{1,2})[\\s\\n]*de[\\s\\n]*([A-Za-zç]+)[\\s\\n]*de[\\s\\n]*(\\d{4})",
            "grupo": 0,
            "descricao": "Data da cidade de assinatura (Piracicaba)"
        },
        "duracao_meses": {
            "regex": "(?:Duração|Vigência Inicial)[\\s\\.:]*(\\d+)[\\s\\n]*meses",
            "grupo": 1,
            "tipo": "integer"
        },
        "fidelidade": {
            "regex": "(?:Fidelidade|Carência)[\\s\\.:]*([A-Z0-9\\s]+)(?=\\n|$)",
            "grupo": 1,
            "descricao": "Captura ISENTO ou quantidade de meses/anos"
        },
        "aviso_previo_dias": {
            "regex": "(?:aviso prévio|antecedência).{1,20}?(\\d+)\\s*(?:\\([a-z\\s]+\\))?\\s*dias",
            "grupo": 1,
            "tipo": "integer"
        },
        "vencimento_dia": {
            "regex": "(?:Vencimento|Dia do Pagamento)[\\s\\.:]*(?:todo dia|dia)\\s*(\\d{1,2})",
            "grupo": 1,
            "tipo": "integer"
        },
        "performance_alvo": {
            "regex": "Performance Alvo[\\s\\.:]*([\\d\\.,]+)\\s*kWh",
            "grupo": 1,
            "tipo": "decimal"
        },
        "representante_nome": {
            "regex": "(?:REPRESENTANTE LEGAL|Representante\\s*Legal)[\\s\\.:\\n]*Nome:[\\s\\n]*([A-ZÀ-Ú\\s]+?)(?=\\n|CPF)",
            "grupo": 1
        },
        "representante_cpf": {
            "regex": "(?:REPRESENTANTE LEGAL|Representante\\s*Legal)[\\s\\S]*?CPF:[\\s\\n]*(\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2})",
            "grupo": 1
        },
        "plataforma_assinatura": {
            "regex": "(Clicksign|DocuSign|QualiSign)",
            "grupo": 1
        },
        "num_instalacao": {
            "regex": "(?:Nº\\s+da\\s+Instalação|Instalação|UC)[^:]*:[\\s\\n]*(\\d{8,12})",
            "grupo": 1
        },
        "num_cliente": {
            "regex": "(?:Nº\\s+do\\s+Cliente|Cliente|Código)[^:]*:[\\s\\n]*(\\d{7,12})",
            "grupo": 1
        }
    },
    "tabelas_repetitivas": {
        "unidades_consumidoras": {
            "estrategia": "block_extraction",
            "descricao": "Extração de múltiplas UCs - UC 10 dígitos, Cliente 9 dígitos",
            "inicio_bloco_regex": "(?:ANEXO I|DADOS REFERENTES À PARTICIPAÇÃO|PARTICIPAÇÃO NO CONSÓRCIO)",
            "fim_bloco_regex": "(?:TOTAL|Clicksign|Página|PRAZOS E PENALIDADES|CONDIÇÕES GERAIS)",
            "linha_item_regex": "(\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2})?[\\s\\n|]*(\\d{8,12})[\\s\\n|]*(\\d{8,12})(?:[\\s\\n|]*(\\d{1,3}[,\\.]\\d{1,2})%?)?",
            "logica": "10 dígitos = num_instalacao, 9 dígitos = num_cliente"
        }
    },
    "notas": "Mapa híbrido para layouts Visual e Formal. Cobertura estimada 98%."
}