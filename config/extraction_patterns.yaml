extraction_rules:
  fidelidade:
    # Busca por "Prazo de fidelidade", "Vigência", "Carência" seguido de número e unidade
    pattern: '(?i)(?:prazo\s+de\s+fidelidade|vigência|carência|prazo\s+contratual).{0,50}?(\d+)\s*(meses|anos|dias)'
    validation:
      min: 12
      max: 60
      unit_default: "meses"
    context_keywords: ["vigência", "prazo", "rescisão"]
    confidence_threshold: 0.85

  aviso_previo_dias:
    # Busca por "Aviso prévio", "Denúncia", "Antecedência" seguido de número e unidade
    pattern: '(?i)(?:aviso\s+prévio|denúncia|antecedência).{0,50}?(\d{1,3})\s*(?:dias|semanas)'
    validation:
      min: 30
      max: 180
      unit_default: "dias"
    context_keywords: ["rescisão", "término", "cancelamento"]
    confidence_threshold: 0.85

  representante_cpf:
    # Busca por CPF (com ou sem pontuação)
    pattern: '(?:\bCPF[:\s]*)?(\d{3}\.?\d{3}\.?\d{3}-?\d{2})\b'
    validation:
      algorithm: "cpf_check"
    context_keywords: ["assinado", "representante", "testemunha"]
    confidence_threshold: 0.90

  participacao_percentual:
    # Busca por tabelas ou menções a "Cota", "Rateio"
    # Este padrão é secundário, pois usaremos pdfplumber para tabelas
    pattern: '(?i)(?:cota|rateio|percentual|participação).{0,30}?(\d+(?:[.,]\d{1,2})?)\s*%'
    validation:
      min: 0.01
      max: 100.0
    context_keywords: ["cota", "rateio", "percentual"]
